---
import PageLayout from '../../layouts/PageLayout.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
  (a, b) => new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime()
);

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://britanniai.com" },
    { "@type": "ListItem", "position": 2, "name": "Blog", "item": "https://britanniai.com/blog" }
  ]
};
---

<PageLayout
  title="Blog â€” Real Estate AI & Transaction Management | Britanni AI"
  description="Insights on AI-powered transaction coordination, real estate operations, and tips to close more deals. From the team at Britanni AI."
  canonical="https://britanniai.com/blog"
  jsonLd={breadcrumbSchema}
>
  <!-- Blog Hero -->
  <section class="bg-gradient-to-br from-blue-50 via-violet-50/50 to-white py-20 md:py-28">
    <div class="max-w-7xl mx-auto px-6 md:px-8">
      <div class="text-center max-w-3xl mx-auto">
        <p class="text-sm font-semibold uppercase tracking-wider text-blue-600 mb-3">Blog</p>
        <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-slate-900">
          Insights for Modern Agents
        </h1>
        <p class="mt-6 text-lg text-slate-600 leading-relaxed">
          Real estate technology, transaction management tips, and AI insights from the Britanni team.
        </p>
      </div>
    </div>
  </section>

  <!-- Blog Posts Grid -->
  <section class="py-20 md:py-28 bg-white">
    <div class="max-w-7xl mx-auto px-6 md:px-8">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {posts.map((post) => (
          <article class="group border border-slate-200 rounded-2xl overflow-hidden hover:shadow-md transition-all">
            <!-- Image Placeholder -->
            <div class="aspect-[16/9] bg-gradient-to-br from-blue-100 to-violet-100 flex items-center justify-center">
              <svg class="w-12 h-12 text-blue-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6V7.5z" />
              </svg>
            </div>

            <div class="p-6">
              <!-- Meta -->
              <div class="flex items-center gap-3 text-sm text-slate-500 mb-3">
                <time datetime={post.data.publishDate}>
                  {new Date(post.data.publishDate).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}
                </time>
                <span aria-hidden="true">&middot;</span>
                <span>{post.data.readTime}</span>
              </div>

              <!-- Title -->
              <h2 class="text-xl font-semibold text-slate-900 group-hover:text-blue-600 transition-colors mb-2">
                <a href={`/blog/${post.id}`} class="after:absolute after:inset-0 relative">
                  {post.data.title}
                </a>
              </h2>

              <!-- Excerpt -->
              <p class="text-slate-600 text-sm leading-relaxed line-clamp-3">
                {post.data.description}
              </p>

              <!-- Author -->
              <div class="mt-4 text-sm text-slate-500">
                By {post.data.author}
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>
</PageLayout>
